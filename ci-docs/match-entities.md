---
title: 데이터 통합 시 엔터티 일치
description: 엔터티를 일치시켜 통합 고객 프로필을 만듭니다.
recommendations: false
ms.date: 05/05/2022
ms.subservice: audience-insights
ms.topic: tutorial
author: v-wendysmith
ms.author: mukeshpo
ms.reviewer: v-wendysmith
manager: shellyha
searchScope:
- ci-match
- ci-merge
- ci-map
- customerInsights
ms.openlocfilehash: bc470dd932c2c981adc5840bb52d60f8dfe0de61
ms.sourcegitcommit: 6a5f4312a2bb808c40830863f26620daf65b921d
ms.translationtype: HT
ms.contentlocale: ko-KR
ms.lasthandoff: 05/11/2022
ms.locfileid: "8740957"
---
# <a name="match-conditions"></a>일치 조건

[!INCLUDE [m3-prod-trial-note](includes/m3-prod-trial-note.md)]

통합의 이 단계에서는 엔터티 간 일치에 대한 일치 순서와 규칙을 정의합니다. 이 단계에는 두 개 이상의 엔터티가 필요합니다.

> [!NOTE]
> 일치 조건을 만들고 **다음** 을 ​​선택하면 선택한 엔터티나 특성을 제거할 수 없습니다. 필요한 경우 계속하기 전에 **뒤로** 를 선택하여 선택한 엔터티와 특성을 검토하십시오.

## <a name="include-enriched-entities-preview"></a>보강된 엔터티 포함(프리뷰)

통합 결과를 개선하는 데 도움이 되도록 데이터 원본 수준에서 엔터티를 강화한 경우 해당 엔터티를 선택합니다. 자세한 내용은 [데이터 원본 보강](data-sources-enrichment.md)을 참조하세요. **중복 레코드** 페이지에서 보강된 엔터티를 선택한 경우 다시 선택할 필요가 없습니다.

1. **일치하는 조건** 페이지에서 페이지 상단의 **보강된 엔터티 사용** 을 선택합니다.

1. **보강된 엔터티 사용** 창에서 보강된 엔터티를 하나 이상 선택합니다.

1. **완료** 를 선택합니다.

## <a name="specify-the-match-order"></a>일치 순서를 지정합니다.

각 일치 항목은 둘 이상의 엔터티를 하나의 통합 엔터티로 통합합니다. 동시에 고유한 고객 레코드를 유지합니다. 일치 순서는 시스템이 레코드 일치를 시도하는 순서를 나타냅니다.

> [!IMPORTANT]
> 목록의 첫 번째 엔터티를 기본 엔터티라고 합니다. 기본 엔터티는 통합 프로필 데이터 세트의 기반 역할을 합니다. 선택한 추가 엔터티가 이 엔터티에 추가됩니다.
>
> 중요 사항:
>
> - 고객에 대한 가장 완전하고 신뢰할 수 있는 프로필 데이터가 있는 엔터티를 기본 엔터티로 선택합니다.
> - 다른 엔터티에 공통으로 있는 몇 가지 특성이 있는 엔터티(예: 이름, 전화 번호 또는 이메일 주소)를 기본 엔터티로 선택합니다.

1. **일치하는 조건** 페이지에서 상하 이동 화살표를 이용하여 원하는 순서대로 항목을 이동하거나 끌어서 놓습니다. 예를 들어 **Contacts:eCommerce** 를 기본 엔터티로 선택하고 **CustomerLoyalty:Loyalty** 를 두 번째 엔터티로 선택합니다.

1. 일치 항목이 있는지 여부에 관계없이 엔터티의 모든 레코드를 고유 고객으로 사용하려면 **모든 레코드 포함** 을 선택합니다. 다른 엔터티의 레코드와 일치하지 않는 이 엔터티의 모든 레코드는 통합 프로필에 포함됩니다. 일치하지 않는 레코드를 싱글톤이라고 합니다.
  
기본 엔티티 *Contacts:eCommerce* 는 다음 엔티티 *CustomerLoyalty:Loyalty* 와 일치합니다. 엔터티가 2개보다 많은 경우 첫 번째 일치 단계의 결과 데이터 세트는 다음 엔터티와 일치합니다.

:::image type="content" source="media/m3_match.png" alt-text="엔터티에 대해 선택한 일치 순서의 스크린샷." lightbox="media/m3_match.png":::

## <a name="define-rules-for-match-pairs"></a>일치 쌍에 대한 규칙 정의

일치 규칙은 특정 엔터티 쌍이 일치할 논리를 지정합니다. 규칙은 하나 이상의 조건으로 구성됩니다.

엔터티 이름 옆에 있는 경고는 일치 쌍에 대해 정의된 일치 규칙이 없음을 의미합니다.

1. 엔터티 쌍에 대해 **규칙 추가** 를 선택하여 일치 규칙을 정의합니다.

1. **규칙 추가** 창에서 규칙에 대한 조건을 구성합니다.

   :::image type="content" source="media/m3_add_rule.png" alt-text="규칙 추가 창의 스크린샷.":::

   - **엔터티/필드 선택(첫 번째 행)** : 관련 엔터티 및 특성을 선택하여 고객에게 고유할 가능성이 있는 레코드 속성을 지정합니다. 예를 들어 전화번호 또는 이메일 주소입니다. 활동 유형 특성으로 일치하지 마십시오. 예를 들어 구매 ID는 다른 레코드 종류에서 일치하는 항목을 찾을 수 없습니다.

   - **엔터티/필드 선택(두 번째 행)**: 첫 번째 행에 지정된 엔터티의 특성과 관련된 특성을 선택합니다.

   - **정규화**: 선택한 특성에 대해 다음 정규화 옵션에서 선택합니다.
     - **숫자**: 로마 숫자와 같은 다른 숫자 체계를 아라비아 숫자로 변환합니다. *VIII* 는 *8* 이 됩니다.
     - **기호**: 모든 기호와 특수 문자를 제거합니다. *머리&어깨* 는 *머리어깨* 가 됩니다.
     - **텍스트를 소문자로**: 모든 문자를 소문자로 변환합니다. *ALL CAPS and Title Case* 는 *all caps and title case* 가 됩니다.
     - **유형(전화, 이름, 주소, 조직)**: 이름, 직위, 전화번호, 주소 및 조직을 표준화합니다.
     - **유니코드를 ASCII로**: 유니코드 표기법을 ASCII 문자로 변환합니다. */u00B2* 는 *2* 가 됩니다.
     - **공백**: 모든 공백을 제거합니다. *Hello   World* 는 *HelloWorld* 가 됩니다.

   - **정밀도**: 이 조건에 적용할 정밀도 수준을 설정합니다.
     - **기본**: *최저(30%)*, *보통(60%)*, *최고(80%)*, 및 *정확(100%)* 에서 선택합니다. **정확히 일치** 를 선택하여 100% 일치하는 레코드만 일치시킵니다.
     - **사용자 지정**: 레코드가 일치해야 하는 비율을 설정합니다. 시스템은이 임계값을 통과하는 일치 레코드만 일치시킵니다.

   - **이름**: 규칙의 이름입니다.

1. 특성이 여러 조건을 충족하는 경우에만 엔터티를 일치시키려면 **추가** > **조건 추가** 를 선택하여 일치 규칙에 더 많은 조건을 추가합니다. 조건은 논리 AND 연산자로 연결되므로 모든 조건이 충족되는 경우에만 실행됩니다.

1. 선택적으로 [예외](#add-exceptions-to-a-rule) 또는 [사용자 지정 일치 조건](#specify-custom-match-conditions)과 같은 고급 옵션을 고려하십시오.

1. **완료** 를 선택하여 규칙을 완료합니다.

1. 선택적으로 [더 많은 규칙을 추가](#add-rules-to-a-match-pair)할 수 있습니다.

1. **다음** 을 클릭합니다.

> [!div class="nextstepaction"]
> [다음 단계: 필드 통합](merge-entities.md)

### <a name="add-rules-to-a-match-pair"></a>일치 쌍에 규칙 추가

일치 규칙은 조건 집합을 나타냅니다. 여러 특성을 기반으로 하여 조건별로 엔터티를 일치시키려면 더 많은 규칙을 추가합니다.

1. 규칙을 추가할 엔터티에서 **규칙 추가** 를 선택합니다.

1. [일치 쌍에 대한 규칙 정의](#define-rules-for-match-pairs)의 단계를 따르십시오.

> [!NOTE]
> 규칙의 순서가 중요합니다. 일치 알고리즘은 첫 번째 규칙을 기반으로 지정된 고객 레코드를 일치시키려고 시도하고 첫 번째 규칙과 일치하는 항목이 식별되지 않은 경우에만 두 번째 규칙을 계속합니다.

## <a name="advanced-options"></a>고급 옵션

### <a name="add-exceptions-to-a-rule"></a>규칙에 예외 추가

대부분의 경우 엔터티 일치는 통합된 데이터가 있는 고유한 고객 프로필로 이어집니다. 가양성 및 가음성의 드문 경우를 동적으로 처리하기 위해 일치 규칙에 대한 예외를 정의할 수 있습니다. 예외는 일치 규칙을 처리한 후 적용되며 예외 기준을 충족하는 모든 레코드의 일치를 방지합니다.

예를 들어 일치 규칙이 성, 도시 및 생년월일을 결합하는 경우 시스템은 동일한 프로필로 같은 마을에 사는 같은 성를 가진 쌍둥이를 식별합니다. 결합하는 엔터티의 이름이 동일하지 않은 경우 프로필과 일치하지 않는 예외를 지정할 수 있습니다.

1. **규칙 편집** 창에서 **추가** > **예외 추가** 를 선택합니다.

1. 예외 기준을 지정합니다.

1. **완료** 를 선택하여 규칙을 저장합니다.

### <a name="specify-custom-match-conditions"></a>사용자 지정 맞춤 일치 조건 지정

기본 일치 논리를 다시 정의하는 조건을 지정할 수 있습니다. 다음과 같이 4가지 옵션을 사용할 수 있습니다.

|옵션  |Description |예  |
|---------|---------|---------|
|항상 일치     | 항상 일치하는 값을 정의합니다.         |  *Mike* 및 *MikeR* 과 일치합니다.       |
|일치하지 않음     | 일치하지 않는 값을 정의합니다.        | *John* 및 *Jonathan* 과 일치하지 않습니다.        |
|우회 사용자 정의     | 시스템이 일치 단계에서 항상 무시해야 하는 값을 정의합니다. |  일치 과정 중에 *11111* 및 *알 수 없음* 은 무시합니다.        |
|별칭 매핑    | 시스템이 동일한 값으로 간주해야 하는 값을 정의합니다.         | *Joe* 와 *Joseph* 은 같다고 간주합니다.        |

1. **사용자 지정** 을 선택합니다.

   :::image type="content" source="media/m3_match_custom.png" alt-text="사용자 지정 버튼":::

1. **사용자 지정 유형** 을 선택하고 **템플릿 다운로드** 를 선택합니다. 각 일치 옵션에 대해 별도의 템플릿이 필요합니다.

1. 다운로드한 템플릿 파일을 열고 세부 정보를 입력합니다. 템플릿에는 사용자 지정 일치에 사용할 엔터티 및 엔터티 기본 키 값을 지정하는 필드가 포함되어 있습니다. 예를 들어, *영업* 엔터티에서 기본 키 *12345* 가 *Contact* 엔터티에서 기본 키 *34567* 과 항상 일치하는 것을 원하는 경우 템플릿을 채웁니다.
    - Entity1: 영업
    - Entity1Key: 12345
    - Entity2: 연락처
    - Entity2Key: 34567

   동일한 템플릿 파일은 여러 엔터티의 사용자 지정 일치 레코드를 지정할 수 있습니다.

   엔터티에서 중복 제거에 대한 사용자 지정 일치를 지정하려면 엔터티1 및 엔터티2와 동일한 엔터티를 제공하고 다른 기본 키 값을 설정합니다.

1. 모든 재정의 항목을 추가한 후 템플릿 파일을 저장합니다.

1. **데이터** > **데이터 원본** 으로 이동하여 새 엔터티로서 템플릿 파일을 수집합니다.

1. 파일을 업로드한 후 **사용자 지정** 옵션을 다시 선택합니다. 드롭다운 메뉴에서 필요한 엔터티를 선택하고 **완료** 를 선택합니다.

   :::image type="content" source="media/custom-match-overrides.png" alt-text="사용자 지정 일치 시나리오에 대한 재정의를 선택하는 대화 상자의 스크린샷입니다.":::

1. 사용자 지정 일치를 적용하는 것은 사용하려는 일치 옵션에 따라 다릅니다.

   - **항상 일치** 또는 **일치하지 않음** 의 경우 다음 단계로 진행합니다.
   - **우회** 또는 **별칭 매핑** 의 경우 기존 일치 규칙에서 **편집** 을 선택하거나 새로운 규칙을 만듭니다. 정규화 드롭다운에서 **사용자 지정 우회** 또는 **별칭 매핑 옵션** 을 선택한 후 **완료** 를 선택합니다.

1. **사용자 지정** 창에서 **완료** 를 선택하여 사용자 지정 일치 구성을 적용합니다.

> [!div class="nextstepaction"]
> [다음 단계: 필드 통합](merge-entities.md)

[!INCLUDE [footer-include](includes/footer-banner.md)]
