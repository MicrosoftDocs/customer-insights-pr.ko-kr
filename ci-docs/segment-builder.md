---
title: 세그먼트 빌더를 사용하여 복합 세그먼트 만들기
description: 세그먼트 빌더를 사용하여 다양한 특성을 기반으로 그룹화할 고객 세그먼트를 복합적으로 만듭니다.
ms.date: 03/25/2022
ms.subservice: audience-insights
ms.topic: how-to
author: JimsonChalissery
ms.author: jimsonc
ms.reviewer: v-wendysmith
manager: shellyha
searchScope:
- ci-segments
- ci-segment-builder
- ci-segment-details
- customerInsights
ms.openlocfilehash: cde373cd65e296675e1b3c92f3024e1093853842
ms.sourcegitcommit: 8a28e9458b857adf8e90e25e43b9bc422ebbb2cd
ms.translationtype: HT
ms.contentlocale: ko-KR
ms.lasthandoff: 07/18/2022
ms.locfileid: "9170643"
---
# <a name="create-complex-segments-with-segment-builder"></a>세그먼트 빌더를 사용하여 복합 세그먼트 만들기

통합 고객 엔터티 및 관련 엔터티를 중심으로 복잡한 필터를 정의합니다. 처리 후 각 세그먼트는 내보내고 조치를 취할 수 있는 고객 레코드 집합을 작성합니다.

> [!TIP]
> **개별 고객** 을 기반으로 하는 세그먼트에는 세그먼트 구성원이 사용할 수 있는 연락처 정보가 자동으로 포함됩니다. **비즈니스 계정** 환경에서 세그먼트는 계정(회사 또는 자회사)을 기반으로 합니다. 세그먼트에 연락처 정보를 포함하려면 세그먼트 빌더에서 **특성 프로젝션** 기능을 사용합니다. 연락처 데이터 원본이 [의미적으로 ContactProfile 엔터티에 매핑](semantic-mappings.md#define-a-contactprofile-semantic-entity-mapping)되었는지 확인합니다.

## <a name="segment-builder"></a>세그먼트 빌더

다음 이미지는 세그먼트 빌더의 다양한 측면을 보여줍니다. 이는 고객 그룹을 만드는 세그먼트를 보여줍니다. 고객은 특정 시간 프레임에서 상품을 주문하고 리워드 포인트를 모으거나 일정 금액을 지출했습니다.

:::image type="content" source="media/segment-builder-overview.png" alt-text="세그먼트 빌더의 요소." lightbox="media/segment-builder-overview.png":::

1. 규칙 및 하위 규칙으로 세그먼트를 구성합니다. 각 규칙 또는 하위 규칙은 조건으로 구성됩니다. 조건을 논리 연산자와 결합합니다.

1. 규칙에 적용되는 엔터티 간에 [관계 경로](relationships.md)를 선택합니다. 관계 경로는 조건에서 사용할 수 있는 특성을 결정합니다.

1. 규칙 및 하위 규칙을 관리합니다. 규칙의 위치를 변경하거나 삭제합니다.

1. 조건을 추가하고 하위 규칙을 사용하여 적절한 수준의 중첩을 구축합니다.

1. 연결된 규칙에 집합 작업을 적용합니다.

1. 특성 창을 사용하여 사용 가능한 엔터티 특성을 추가하거나 특성을 기반으로 조건을 만듭니다. 창에는 선택한 관계 경로에 따라 선택한 규칙에 사용할 수 있는 엔터티 및 특성 목록이 표시됩니다.

1. 기존 규칙 및 하위 규칙에 속성을 기반으로 조건을 추가하거나 새 규칙에 추가합니다.

1. 세그먼트를 구축하는 동안 변경 사항을 실행 취소 및 다시 실행합니다.

위의 예는 분할 기능을 보여줍니다. 온라인에서 최소 $500의 상품 구매 *및* 소프트웨어 개발에 관심이 있는 고객에 대한 세그먼트를 정의했습니다.

## <a name="create-a-new-segment-with-segment-builder"></a>세그먼트 빌더를 사용하여 새 세그먼트 만들기

1. **세그먼트** 로 이동

1. **새로 만들기** > **나만의 빌드** 를 선택합니다. 세그먼트 빌더 페이지에서 규칙을 정의하거나 구성합니다. 규칙은 고객 집합을 정의하는 하나 이상의 조건으로 구성됩니다.

1. 제목 없는 세그먼트 옆에 있는 **세부 정보 편집** 을 선택합니다. 세그먼트 이름을 제공하고 세그먼트에 대해 제안된 **출력 엔터티 이름** 을 업데이트합니다. 선택적으로 설명과 [태그](work-with-tags-columns.md#manage-tags)를 세그먼트에 추가합니다.

   :::image type="content" source="media/segments_edit_details.png" alt-text="세부 정보 편집 대화 상자.":::

1. **규칙1** 섹션에서 고객을 필터링할 엔터티의 특성을 선택합니다. 특성을 선택하는 방법은 두 가지가 있습니다.
   - **규칙에 추가** 창에서 사용 가능한 엔터티 및 특성 목록을 검토하고 추가할 속성 옆에 있는 **+** 아이콘을 선택합니다. 특성을 기존 규칙에 추가할 것인지 아니면 새 규칙을 만드는 데 사용할 것인지 선택합니다.
   - 일치하는 제안을 보려면 규칙 섹션에 특성의 이름을 입력하십시오.

1. 연산자를 선택하여 조건의 일치 값을 지정합니다. 특성은 숫자, 문자열, 날짜 또는 부울의 네 가지 데이터 유형 중 하나를 값으로 가질 수 있습니다. 특성의 데이터 유형에 따라 다른 연산자를 사용하여 조건을 지정할 수 있습니다. 비즈니스 계정이 있는 세그먼트의 경우 수집된 계정 간의 잠재적 계층을 포함하기 위해 두 개의 특수 연산자를 사용할 수 있습니다. 관련 계정을 포함하려면 연산자의 *자식* 및 *부모* 를 사용하세요.

1. **조건 추가** 를 선택하여 규칙에 더 많은 조건을 추가합니다. 현재 규칙 아래에 규칙을 만들려면 **하위 규칙 추가** 를 선택합니다.

1. 규칙에 *고객* 엔터티 이외의 다른 엔터티를 사용하는 경우, **관계 경로 설정** 을 선택하여 선택한 엔터티를 통합 고객 엔터티에 매핑합니다. 가능한 관계 경로가 하나만 있는 경우 시스템이 자동으로 선택합니다. 다른 [관계 경로](relationships.md#relationship-paths)는 다른 결과를 산출할 수 있습니다. 모든 규칙은 고유한 관계 경로를 가질 수 있습니다.

   :::image type="content" source="media/relationship-path.png" alt-text="통합 고객 엔터티에 매핑된 엔터티를 기반으로 규칙을 만들 때 잠재적인 관계 경로.":::

1. 규칙에 여러 조건이 있는 경우 조건을 연결할 논리 연산자를 선택합니다.  
   - **AND** 연산자: 세그먼트에 레코드를 포함하려면 모든 조건이 충족되어야 합니다. 이 옵션은 여러 엔터티에서 조건을 정의할 때 사용합니다.
   - **OR** 연산자: 세그먼트에 레코드를 포함하려면 조건 중 하나가 충족되어야 합니다. 이 옵션은 동일한 엔터티에 대해 여러 조건을 정의할 때 사용합니다.

   :::image type="content" source="media/segmentation-either-condition.png" alt-text="두 개의 AND 조건이 있는 규칙. ":::

   OR 연산자를 사용할 경우 모든 조건은 관계 경로에 포함된 엔터티를 기반으로 해야 합니다.

1. 여러 규칙을 만들어 다양한 고객 레코드 집합을 만들 수 있습니다. 비즈니스 사례에 필요한 고객을 포함하도록 그룹을 결합합니다. 특히, 지정된 관계 경로로 인해 규칙에 엔터티를 포함할 수 없는 경우 새 규칙을 생성하여 특성을 선택합니다.

      :::image type="content" source="media/segment-rule-grouping.png" alt-text="세그먼트에 새 규칙을 추가하고 집합 연산자를 선택합니다.":::

   1. **규칙 추가** 를 선택합니다.
   1. 다음 집합 연산자 중 하나를 선택합니다: **결합**, **교차** 또는 **제외**.

      - **결합** 은 두 그룹을 통합합니다.
      - **교차** 는 두 그룹을 겹칩니다. 두 그룹에 *공통* 인 데이터만 통합 그룹에 남습니다.
      - **제외** 는 두 그룹을 결합합니다. 그룹 B의 데이터와 *공통되지 않는* 그룹 A의 데이터만 유지됩니다.

1. 기본적으로 출력 엔터티에는 정의된 필터와 일치하는 고객 프로필의 모든 특성이 자동으로 포함됩니다. 세그먼트가 *고객* 엔터티가 아닌 다른 엔터티를 기반으로 하는 경우 **프로젝트 특성** 을 선택하여 이러한 엔터티의 더 많은 특성을 출력 엔터티에 추가합니다.

   > [!IMPORTANT]
   > 비즈니스 계정을 기반으로 하는 세그먼트의 경우 *ContactProfile* 엔터티의 각 계정에 대한 하나 이상의 연락처 세부 정보가 세그먼트에 포함되어야 해당 세그먼트가 활성화되거나 연락처 정보가 필요한 대상으로 내보낼 수 있습니다. *ContactProfile* 엔터티에 대한 자세한 내용은 [Semantic 매핑](semantic-mappings.md)을 참조하십시오.
   > 연락처의 예상 속성이 있는 비즈니스 계정을 기반으로 하는 세그먼트에 대한 샘플 출력은 다음과 같습니다.
   >
   > |ID  |어카운트 이름  |매출  |연락처 이름  | 연락처 역할|
   > |---------|---------|---------|---------|---|
   > |10021     | Contoso | 100K | [Abbie Moss, Ruth Soto]  | [CEO, 프로젝트 매니저]

   :::image type="content" source="media/segments-project-attributes.png" alt-text="출력 엔터티에 추가할 측면 창에서 선택한 프로젝션된 특성의 예.":::
  
   예: 세그먼트는 *고객* 엔터티와 관련된 구매 데이터가 포함된 엔터티를 기반으로 합니다. 이 세그먼트는 현재 연도에 상품을 구매한 스페인의 모든 고객을 찾습니다. 상품 가격 또는 구매 날짜와 같은 특성을 출력 엔터티의 일치하는 모든 고객 레코드에 추가하도록 선택할 수 있습니다. 이 정보는 총 지출에 대한 계절적 상관관계를 분석하는 데 유용할 수 있습니다.

   > [!NOTE]
   > - **특성 프로젝션** 은 고객 엔터티와 일대다 관계가 있는 엔터티에 대해서만 작동합니다. 예를 들어 한 고객이 여러 구독을 가질 수 있습니다.
   > - 프로젝션하려는 특성이 관계에 의해 정의된 대로 *고객* 엔터티에서 둘 이상의 홉 거리에 있는 경우 해당 특성은 작성 중인 세그먼트 쿼리의 모든 규칙에서 사용해야 합니다.
   > - 프로젝션하려는 특성이 *고객* 엔터티에서 한 홉만 떨어져 있으면 해당 특성이 작성 중인 세그먼트 쿼리의 모든 규칙에 있을 필요는 없습니다.
   > - **프로젝트된 특성** 은 집합 연산자를 사용할 때 고려됩니다.

1. **실행** 을 선택하여 세그먼트를 만듭니다. 현재 구성을 유지하고 나중에 세그먼트를 실행하려면 **저장** 을 선택합니다. **세그먼트** 페이지가 표시됩니다.

### <a name="segment-builder-tips"></a>세그먼트 빌더 도움말

세그먼트 빌더를 사용하여 세그먼트를 생성하는 경우 다음 도움말을 참조하세요.

- 세그먼트 빌더는 조건에 대한 연산자를 설정할 때 엔터티에서 유효한 값을 제안하지 않습니다. **데이터** > **엔터티** 로 이동하고 엔터티 데이터를 다운로드하여 사용 가능한 값을 확인할 수 있습니다.
- 날짜를 기반으로 하는 조건을 사용하면 고정 날짜와 변동 날짜 범위 간에 전환할 수 있습니다.
- 세그먼트에 대한 규칙이 여러 개인 경우 수정 중인 규칙 옆에 파란색 수직선이 있습니다.
- 규칙 및 조건을 세그먼트 정의의 다른 위치로 이동할 수 있습니다. 규칙 또는 조건 옆에 있는 세로 줄임표(&vellip;)를 선택하고 이동할 방법과 위치를 선택합니다.
- 명령 모음의 **실행 취소** 및 **다시 실행** 컨트롤을 사용하면 변경 사항을 롤백할 수 있습니다.
- 세그먼트를 만든 후 일부 세그먼트를 사용하면 [세그먼트 사용량을 추적](segments.md#track-usage-of-a-segment)할 수 있습니다.

## <a name="next-steps"></a>다음 단계

[세그먼트 내보내기](export-destinations.md)를 수행하고 [고객 카드 통합](customer-card-add-in.md)을 탐색하여 다른 응용 프로그램에서 세그먼트를 사용합니다.

[!INCLUDE [footer-include](includes/footer-banner.md)]
