---
title: 데이터 통합 시 엔터티 병합
description: 엔터티를 병합하여 통합 고객 프로필을 만듭니다.
ms.date: 01/28/2022
ms.service: customer-insights
ms.subservice: audience-insights
ms.topic: tutorial
author: adkuppa
ms.author: adkuppa
ms.reviewer: mhart
manager: shellyha
searchScope:
  - ci-merge
---

# <a name="merge-entities"></a>엔터티 병합

병합 단계는 데이터 통합 프로세스의 마지막 단계입니다. 그 목적은 충돌하는 데이터를 조정하는 것입니다. 충돌하는 데이터의 예로는 두 데이터 집합에 있지만 각 데이터 집합에 있는 고객 이름("Grant Marshall"과 "Grant Marshal") 또는 형식(617-803-091X와 617803091X)에 차이가 있는 휴대폰 번호 등이 있습니다. 충돌하는 데이터 요소를 병합하는 작업은 특성별로 수행됩니다.

:::image type="content" source="media/merge-fields-page.png" alt-text="통합 고객 프로필을 정의하는 병합된 필드가 있는 테이블을 보여주는 데이터 통합 프로세스의 병합 페이지입니다.":::

[일치 단계](match-entities.md)를 완료한 후 **통합** 페이지에서 **병합** 타일을 선택하여 병합 단계를 시작합니다.

## <a name="review-system-recommendations"></a>시스템 권장 사항 검토

**데이터** > **통합** > **병합** 에서 통합 고객 프로필 엔터티 내에서 병합할 특성을 선택하고 제외합니다. 통합 고객 프로필은 데이터 통합 프로세스의 결과입니다. 일부 특성은 시스템에서 자동으로 병합됩니다.

자동으로 병합된 특성 중 하나에 포함된 특성을 보려면 표의 **고객 필드** 탭에서 병합된 특성을 선택합니다. 병합된 특성을 구성하는 특성은 병합된 특성 아래 두 개의 새 행에 표시됩니다.

## <a name="separate-rename-exclude-and-edit-merged-fields"></a>병합된 필드 분리, 이름 변경, 제외 및 편집

통합 고객 프로필을 생성하기 위해 시스템이 병합된 특성을 처리하는 방법을 변경할 수 있습니다. **더 보기** 를 선택하고 변경할 항목을 선택합니다.

:::image type="content" source="media/manage-merged-attributes.png" alt-text="병합된 특성을 관리하기 위한 더 보기 드롭다운 메뉴의 옵션입니다.":::

자세한 내용은 다음 섹션을 참조하십시오.

## <a name="separate-merged-fields"></a>병합된 필드 분리

병합된 필드를 분리하려면 테이블에서 특성을 찾으십시오. 분리된 필드는 통합 고객 프로필에서 개별 데이터 요소로 표시됩니다. 

1. 병합된 필드를 선택합니다.
  
1. **더 보기** 를 선택하고 **필드 분리** 를 선택합니다.
 
1. 분리를 확인합니다.

1. **저장** 및 **실행** 을 선택하여 변경 사항을 처리합니다.

## <a name="rename-merged-fields"></a>병합된 필드 이름 바꾸기

병합된 특성의 표시 이름을 변경합니다. 출력 엔터티의 이름은 변경할 수 없습니다.

1. 병합된 필드를 선택합니다.
  
1. **더 보기** 를 선택하고 **이름 바꾸기** 를 선택합니다.

1. 변경된 표시 이름을 확인합니다. 

1. **저장** 및 **실행** 을 선택하여 변경 사항을 처리합니다.

## <a name="exclude-merged-fields"></a>병합된 필드 제외

통합 고객 프로필에서 특성을 제외합니다. 필드가 다른 프로세스(예: 세그먼트)에서 사용되는 경우 고객 프로필에서 제외하기 전에 이러한 프로세스에서 제거하십시오. 

1. 병합된 필드를 선택하십시오.
  
1. **더 보기** 를 선택하고 **제외하기** 를 선택합니다.

1. 제외를 확인하십시오.

1. **저장** 및 **실행** 을 선택하여 변경 사항을 처리합니다. 

**병합** 페이지에서 **제외된 필드** 를 선택하여 모든 필드 목록을 확인합니다. 이 창에서 제외된 필드를 다시 추가할 수 있습니다.

## <a name="edit-a-merged-field"></a>병합된 필드 편집

1.  병합된 필드를 선택하십시오.

1.  **더 보기** 를 선택하고 **편집** 을 선택합니다.

1.  다음 세 가지 옵션 중 하나에서 필드를 결합하거나 병합하는 방법을 지정합니다.
    - **중요도**: 참여 필드에 대해 지정된 중요도 순위를 기반으로 승자 값을 식별합니다. 기본 병합 옵션입니다. **위/아래로 이동** 을 선택하여 중요도 순위를 설정합니다.
    :::image type="content" source="media/importance-merge-option.png" alt-text="병합 필드의 중요도 옵션 대화 상자."::: 
    - **가장 최근**: 가장 최근성을 기준으로 승자 값을 식별합니다. 최근성을 정의하려면 병합 필드 범위의 모든 참여 엔터티에 대한 날짜 또는 숫자 필드가 필요합니다.
    :::image type="content" source="media/recency-merge-option.png" alt-text="병합 필드의 최근성 옵션 대화 상자.":::
    - **최소 최근**: 최소 최근성을 기준으로 승자 값을 식별합니다. 최근성을 정의하려면 병합 필드 범위의 모든 참여 엔터티에 대한 날짜 또는 숫자 필드가 필요합니다.

1.  병합 프로세스에 참여할 필드를 더 추가할 수 있습니다.

1.  병합된 필드의 이름을 바꿀 수 있습니다.

1. **완료** 를 선택하여 변경 내용을 적용합니다.

1. **저장** 및 **실행** 을 선택하여 변경 사항을 처리합니다. 

## <a name="combine-fields-manually"></a>수동으로 필드 결합

병합된 특성을 수동으로 지정합니다.

1. **병합** 페이지에서 **결합** 을 선택합니다.

1. **필드** 옵션을 선택합니다.

1. **필드 결합 기준** 드롭다운에서 병합 승자 정책을 지정합니다.

1. 추가할 필드를 선택하십시오. 더 많은 필드를 결합하려면 **필드 추가** 를 선택합니다.

1. **이름** 및 **출력 필드 이름** 을 제공합니다.

1. **완료** 를 선택하여 변경 내용을 적용합니다.

1. **저장** 및 **실행** 을 선택하여 변경 사항을 처리합니다. 

## <a name="combine-a-group-of-fields"></a>필드 그룹 결합

필드 그룹을 단일 단위로 취급합니다. 예를 들어, 레코드에 Address1, Address2, City, State 및 Zip 필드가 포함되어 있는 경우입니다. 데이터를 더 완전하게 만들기 위해 다른 레코드의 Address2에 병합하고 싶지 않을 수 있습니다

1. **병합** 페이지에서 **결합** 을 선택합니다.

1. **필드 그룹** 옵션을 선택합니다.

1. **그룹 순위 지정 기준** 드롭다운에서 병합 승자 정책을 지정합니다.

1. **추가** 를 선택하고 더 많은 필드를 추가하거나 필드에 그룹을 추가할 것인지 선택합니다.

1. 결합된 모든 필드에 대해 **이름** 과 **출력 이름** 을 제공합니다.

1. 필드 그룹에 대해 **이름** 을 제공합니다. 

1. **완료** 를 선택하여 변경 내용을 적용합니다.

1. **저장** 및 **실행** 을 선택하여 변경 사항을 처리합니다.

## <a name="change-the-order-of-fields"></a>필드의 순서 변경

일부 엔터티에는 다른 엔터티보다 자세한 내용이 포함되어 있습니다. 엔터티에 필드에 대한 최신 데이터가 포함된 경우 값을 병합할 때 다른 엔터티보다 우선 순위로 지정할 수 있습니다.

1. 병합된 필드를 선택합니다.
  
1. **더 보기** 를 선택하고 **편집** 을 선택합니다.

1. **필드 결합** 창에서 **위/아래로 이동** 을 선택하여 순서를 설정하거나 원하는 위치로 끌어서 놓습니다.

1. 변경을 확인합니다.

1. **저장** 및 **실행** 을 선택하여 변경 사항을 처리합니다.

## <a name="configure-customer-id-generation"></a>고객 ID 생성 구성 

병합 필드를 구성한 후 고유한 고객 프로필 식별자인 CustomerId 값을 생성하는 방법을 정의할 수 있습니다. 데이터 통합 프로세스의 병합 단계에서는 고유한 고객 프로필 식별자를 생성합니다. 식별자는 데이터 통합 ​​프로세스의 결과인 *고객* 엔터티의 CustomerId입니다. 

고객 엔터티의 CustomerId는 null이 아닌 승자 기본 키의 첫 번째 값 해시를 기반으로 합니다. 이러한 키는 일치 및 병합 단계에서 사용되는 엔터티에서 제공되며 일치 순서의 영향을 받습니다. 그래서 일치 순서의 기본 엔터티에서 기본 키 값이 변경되면 생성된 CustomerID가 변경될 수 있습니다. 따라서 기본 키 값이 항상 동일한 고객을 나타내는 것은 아닙니다.

안정적인 고객 ID를 구성하면 이러한 동작을 피할 수 있습니다.

**고유 고객 ID 구성**

1. **통합** > **병합** 으로 이동합니다.

1. **키** 탭을 선택합니다. 

1. 마우스를 **CustomerId** 행 위로 가져가고 **구성** 옵션을 선택합니다.
   :::image type="content" source="media/customize-stable-id.png" alt-text="ID 생성을 사용자 지정하는 컨트롤.":::

1. 고유한 고객 ID를 구성하고 보다 안정적인 필드를 최대 5개까지 선택하십시오. 구성과 일치하지 않는 레코드는 시스템 구성 ID를 대신 사용합니다.  

1. **완료** 를 선택하고 병합 프로세스를 실행하여 변경 사항을 적용합니다.

## <a name="group-profiles-into-households-or-clusters"></a>프로필을 가족 또는 클러스터로 그룹화

고객 프로필 생성 구성 프로세스의 일부로 관련 프로필을 클러스터로 그룹화하는 규칙을 정의할 수 있습니다. 현재 사용 가능한 클러스터 유형은 가정 및 사용자 지정 클러스터의 두 가지입니다. *Customer* 엔터티에 의미 필드 *Person.LastName* 및 *Location.Address* 가 포함된 경우 시스템은 미리 정의된 규칙을 사용하여 가구를 자동으로 선택합니다. [일치 규칙](match-entities.md#define-rules-for-match-pairs)과 유사한 고유한 규칙 및 조건으로 클러스터를 생성할 수도 있습니다.

**가구 또는 클러스터 정의**

1. **통합** > **병합** 으로 이동합니다.

1. **병합** 탭에서 **고급** > **클러스터 만들기** 를 선택합니다.

   :::image type="content" source="media/create-cluster.png" alt-text="새 클러스터를 생성하도록 제어.":::

1. **가구** 또는 **사용자 지정** 클러스터 중에서 선택합니다. 의미 필드 *Person.LastName* 및 *Location.Address* 가 *Customer* 엔터티에 있는 경우 가구가 자동으로 선택됩니다.

1. 클러스터의 이름을 제공하고 **완료** 를 선택합니다.

1. **클러스터** 탭을 선택하여 생성한 클러스터를 찾습니다.

1. 클러스터를 정의하기 위한 규칙 및 조건을 지정합니다.

1. **실행** 을 선택하여 병합 프로세스를 실행하고 클러스터를 만듭니다.

병합 프로세스를 실행한 후 클러스터 식별자가 *Customer* 엔터티에 새 필드로 추가됩니다.

## <a name="run-your-merge"></a>병합 실행

특성을 수동으로 병합하든 시스템에서 특성을 병합하도록 허용하든 언제든지 병합을 실행할 수 있습니다. **병합** 페이지에서 **실행** 을 선택하여 프로세스를 시작합니다.

> [!div class="mx-imgBorder"]
> ![데이터 병합 저장 및 실행.](media/configure-data-merge-save-run.png "데이터 병합 저장 및 실행")

통합 고객 엔터티에 반영된 출력만 보려면 **병합만 실행** 을 선택합니다. 다운스트림 프로세스는 [지정된 새로 고침 일정](system.md#schedule-tab)에 따라 새로 고쳐집니다.

**병합 및 다운스트림 프로세스 실행** 을 선택하여 변경 사항으로 시스템을 새로 고칩니다. 보강, 세그먼트 및 측정을 포함한 모든 프로세스가 자동으로 다시 실행됩니다. 모든 다운스트림 프로세스가 완료되면 고객 프로필에 변경 사항이 반영됩니다.

추가 변경을 수행하고 단계를 다시 실행하기 위해 진행중인 병합을 취소할 수 있습니다. **새로 고침 중...** 을 선택하고 나타나는 측면 창에서 **작업 취소** 를 선택합니다.

[!INCLUDE [progress-details-include](../includes/progress-details-pane.md)]

:::image type="content" source="media/process-detail-path.png" alt-text="작업 상태 링크에서 프로세스 세부 정보로 이동하는 드릴다운 경로.":::

## <a name="next-step"></a>다음 단계

고객에 대한 더 많은 통찰력을 얻기 위해 [활동](activities.md), [보강](enrichment-hub.md) 또는 [관계](relationships.md)를 구성합니다.

활동, 보강 또는 세그먼트를 이미 구성한 경우 최신 고객 데이터를 사용하도록 자동으로 처리됩니다.

[!INCLUDE[footer-include](../includes/footer-banner.md)]
